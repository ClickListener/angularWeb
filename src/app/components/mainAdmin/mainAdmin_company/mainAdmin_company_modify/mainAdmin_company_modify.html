<h1>mainAdmin company modify</h1>


<div *ngIf="companyInfo">
  <p style="display: inline-block">Company state: </p>

  <select name="state" [(ngModel)]="companyInfo.state">
    <option value="0">申请</option>
    <option value="1">审核</option>
    <option value="2">禁用</option>
    <option value="3">批准</option>
  </select>
</div>

<a class="btn btn-primary btn-sm" (click)="updateCompanyInfo()">Update company state</a>




<div style="margin-left: 3rem;margin-right: 3rem">


  <div class="card" *ngIf="appList && appList.length !== 0">

    <div class="card-body">

      <div *ngFor="let app of appList; let i = index">
        <p>{{app.appName}}</p>
        <div class="form-custom">
          <div class="form-custom-head">
            <p class="item-1">App icon</p>
            <p class="item-1">State</p>
            <p class="item-1">Platform</p>
            <p class="item-2">License Expired</p>
            <p class="item-1">Device No.</p>
            <p class="item-1">Use No.</p>
            <p class="item-2">Operation</p>
          </div>

          <div class="form-custom-content">
            <div>
              <a class="item-1"><img src="{{url}}{{app.avatar.description}}/{{app.avatar.fileName}}"></a>
              <p class="item-1">
                <select name="state" [(ngModel)]="app.state">
                  <option value="0">申请</option>
                  <option value="1">审核</option>
                  <option value="2">禁用</option>
                  <option value="3">批准</option>
                </select>
              </p>
              <p class="item-1">{{app.platform}}</p>
              <p class="item-2">2018-01-10</p>
              <div class="item-1">{{app.devices.length}}

                <a class="collapsed" style="position: relative"
                   data-toggle="collapse" [attr.data-target]="'#detail' + i"
                   aria-expanded="false" aria-controls="devices-detail" *ngIf="app.devices.length !== 0">
                  <img src="../../../../assets/images/down.png">

                  <div class="triangle-big"></div>
                  <div class="triangle-small">

                    <div class="collapse device-detail" [attr.id]="'detail' + i">

                      <div class="device-detail-form">
                        <div class="device-detail-form-head">
                          <p class="item-2 custom-center-p" style="margin-right: 10%">Device Model</p>
                          <p class="item-1 custom-center-p">Device No.</p>
                          <p class="item-1 custom-center-p">Use No.</p>
                        </div>
                        <div class="device-detail-form-head" style="border-top: 1px solid #e9ecef;" *ngFor="let device of app.devices">
                          <div class="item-2 custom-center-p" style="margin-right: 15%;">
                            <img src="../../../../assets/images/device_{{device.deviceName | lowercase}}.png" style="width: 3rem; height: 3rem">
                            <p style="display: inline-block">{{device.deviceName}}</p>
                          </div>
                          <p class="item-1 custom-center-p">{{device.totalNumber}}</p>
                          <p class="item-1 custom-center-p">0</p>
                        </div>
                      </div>
                    </div>
                  </div>


                </a>


              </div>
              <p class="item-1">0</p>

              <div class="item-2">
                <a class="btn btn-primary" (click)="updateAppState(app)" >Update app state</a>
              </div>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>


</div>
