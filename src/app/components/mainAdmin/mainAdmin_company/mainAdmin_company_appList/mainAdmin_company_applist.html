<div style="margin: 3rem">


  <div class="card" *ngIf="appList && appList.length !== 0">


    <div style="background-color: #e9ecef; height: 50px">
      <p style="line-height: 50px; font-size: 1.5rem; text-align: center">Company Apps</p>
    </div>
    <div class="card-body">

      <div *ngFor="let app of appList; let i = index">
        <p style="margin-top: 15px; font-weight: bold">{{app.appName}}</p>
        <div class="form-custom">
          <div class="form-custom-head">
            <p class="item-1">App icon</p>
            <p class="item-1">State</p>
            <p class="item-1">Platform</p>
            <p class="item-2">License Expired</p>
            <p class="item-1">Device No.</p>
            <!--<p class="item-1">Use No.</p>-->
            <p class="item-2">Operation</p>
          </div>

          <div class="form-custom-content">
            <div>
              <a class="item-1"><img style="width: 80px;height: 80px;"
                                     src="{{url}}{{app.avatar.description}}/{{app.avatar.fileName}}"></a>
              <p class="item-1" *ngIf="app.state === 0">Not Audit</p>
              <p class="item-1" *ngIf="app.state === 2">Disabled</p>
              <p class="item-1" *ngIf="app.state === 3">Active</p>
              <p class="item-1">{{app.platform}}</p>
              <p class="item-2">{{app.expireTime | date: 'yyyy-MM-dd'}}</p>
              <div class="item-1">{{app.devices.length}}

                <a class="collapsed" style="position: relative" [style.z-index]="100 - i"
                   data-toggle="collapse" [attr.data-target]="'#detail' + i"
                   aria-expanded="false" aria-controls="devices-detail" *ngIf="app.devices.length !== 0">
                  <img src="../../../../assets/images/down.png">

                  <div class="triangle-big"></div>
                  <div class="triangle-small">

                    <div class="collapse device-detail" [attr.id]="'detail' + i">

                      <div class="device-detail-form">
                        <div class="device-detail-form-head">
                          <p class="item-2 custom-center-p" style="margin-right: 10%">Device Model</p>
                          <p class="item-1 custom-center-p">Device No.</p>
                          <p class="item-1 custom-center-p">Use No.</p>
                        </div>
                        <div class="device-detail-form-head" style="border-top: 1px solid #e9ecef;"
                             *ngFor="let device of app.devices">
                          <div class="item-2 custom-center-p" style="margin-right: 15%;">
                            <img src="../../../../assets/images/device_{{device.model | lowercase}}.png"
                                 style="width: 3rem; height: 3rem">
                            <p style="display: inline-block">{{device.model}}</p>
                          </div>
                          <p class="item-1 custom-center-p">{{device.totalNumber}}</p>
                          <p class="item-1 custom-center-p">{{device.deviceUsedNumber}}</p>
                        </div>
                      </div>
                    </div>
                  </div>


                </a>


              </div>
              <!--<p class="item-1">{{app.installedPhoneNumber? app.installedPhoneNumber: 0}}</p>-->

              <div class="item-2">
                <a [routerLink]='["/company/company-app-modify", app._id]'><img src="../../../../../assets/images/edit.png"></a>
              </div>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>


</div>

<div id="loading" class="loading" *ngIf="!appList"></div>
